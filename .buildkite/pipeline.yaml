steps:
  - label: "ğŸ” Lint & Format"
    key: "lint"
    plugins:
      - docker-compose#v5.12.1:
          run: lint
          config: compose.yaml
      - docker-compose#v5.12.1:
          run: fmt
          config: compose.yaml

  - label: "ğŸ§ª Test"
    key: "test"
    plugins:
      - docker-compose#v5.12.1:
          run: test
          config: compose.yaml

  - label: "ğŸ”’ Security Scan"
    key: "security"
    plugins:
      - docker-compose#v5.12.1:
          run: gosec
          config: compose.yaml
      - docker-compose#v5.12.1:
          run: govulncheck
          config: compose.yaml
    artifact_paths:
      - "gosec-report.json"
    soft_fail:
      - exit_status: 1
